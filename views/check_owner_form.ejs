<!DOCTYPE html>
<html lang="en">
    <%- include('./partials/head.ejs') %>
<body>
    <div class="bg-light">
        <%- include('./partials/nav.ejs') %>
        <hr class="hr" />

        <!-- body part-->
        <div class="container-lg">
            <!-- <div class="justify-content-center"> -->
                <form action="/add-rental" method="post"  class="add_rental" name="add_rental" enctype="multipart/form-data" >
                    <div class="row justify-content-center gap-5">
                        <div class="col-md-4 ">
                            <label for="name" class="form-label">
                                Name:
                            </label>
                            <div class="mb-4 input-group">
                                <span class="input-group-text">
                                    <i class="bi bi-person"> </i>
                                </span>
                                <input type="text" class="name form-control border-primary" id="name" name="name"
                                    placeholder="e.g robel asfaw" required>
                            </div>
                            <label for="phonenumber" class="form-label">
                                Phone Number:
                            </label>
                            <div class="mb-4 input-group">
                                <span class="input-group-text">
                                    <i class="bi bi-phone-fill"></i>
                                </span>
                                <input type="number" class="phonenumber form-control border-primary" id="phonenumber"
                                    placeholder="e.g +251935******" name="phonenumber" required>
                            </div>
                            <label for="price" class="form-label">
                                Price:
                            </label>
                            <div class="mb-4 input-group">
                                <span class="input-group-text">
                                    <i class="bi bi-currency-dollar"></i>
                                </span>
                                <input type="number" class="price form-control border-primary" id="price"
                                    placeholder="e.g 5500 in ETB" name="price" required>
                            </div>
                            <label for="bedroom" class="form-label">
                                Number of Bed room(s):
                            </label>
                            <div class="mb-4 input-group">
                                <span class="input-group-text">
                                    <img src="/bed.jpg" width="20" height="20" alt="">
                                </span>
                                <input type="number" class="bedroom form-control border-primary" id="bedroom"
                                    placeholder="e.g 3 bedroom" name="bedroom" required>
                            </div>
                            <label for="bathroom" class="form-label">
                                Number of Bath room(s):
                            </label>
                            <div class="mb-4 input-group">
                                <span class="input-group-text">
                                    <img src="/bath.jpg" width="20" height="20" alt="">
                                </span>
                                <input type="number" class="bathroom form-control border-primary" id="bathroom"
                                    placeholder="e.g 1 bathroom" name="bathroom" required>
                            </div>
                            <label for="location" class="form-label">
                                Location:
                            </label>
                            <div class="mb-4 input-group">
                                <span class="input-group-text">
                                    <i class="bi bi-geo-alt-fill"></i>
                                </span>
                                
                                 <input type="text" class="location form-control border-primary" id="location"
                                    placeholder="e.g kebele 16, yetebaberut glbach" name="location" required>
                            </div>
                            <label for="sqrt" class="form-label">
                                sqrt:
                            </label>
                            <div class="mb-4 input-group">
                                <span class="input-group-text">
                                    <img src="/sqrt.jpg" width="20" height="20" alt="">
                                </span>
                                <input type="number" class="sqrt form-control border-primary" id="sqrt"
                                    placeholder="e.g 200sqrt" name="sqrt" required>
                            </div>
                            <label for="addtionalfeature" class="form-label">
                                Addtional Feature:
                            </label>
                           
                            <div class="mb-4 input-group">
                                <span class="input-group-text">
                                    <i class="bi bi-clipboard2-plus"></i>
                                </span>
                                <input type="text" class="additionalfeature form-control border-primary" id="addtionalfeature"
                                    placeholder="e.g have swimming pool and garden" name="additionalfeature">
                            </div>
                            <label for="samplephotos" class="form-label">
                                Sample Photos:
                            </label>
                            <div class="mb-4 input-group">
                                <span class="input-group-text">
                                    <i class="bi bi-file-image"></i>
                                </span>
                                <input type="file" class="pic1 form-control file-upload-image"  name="pic1" id="pic1" 
                                    accept="Image/*" required>
                            </div>
                            <div class="mb-4 input-group">
                                <span class="input-group-text">
                                    <i class="bi bi-file-image"></i>
                                </span>
                                <input type="file" class="pic2 form-control file-upload-image" onchange="readURL(this)" id="pic2" name="pic2"
                                    accept="Image/*">
                            </div>
                            <div class="mb-4 input-group">
                                <span class="input-group-text">
                                    <i class="bi bi-file-image"></i>
                                </span>
                                <input type="file" class="pic3 form-control file-upload-image" onchange="readURL(this)" id="pic3" name="pic3"
                                    accept="Image/*" required>
                            </div>
                            <div class="mb-4 input-group">
                                <span class="input-group-text">
                                    <i class="bi bi-file-image"></i>
                                </span>
                                <input type="file" class="pic4 form-control file-upload-image" onchange="readURL(this)" id="pic4" name="pic4"
                                    accept="Image/*" required>
                            </div>
                            <input type="text" class="lat" hidden name="lat" value="" id="lat" >
                            <input type="text" class="lat" hidden name="lng" value="" id="lng" >
                             <!--creat a dropdown button for property type-->
                        
                            <div class="property_type" >
                             <section>
                                <label >Property type:</label>
                                <div >
                                    <select name="type" id="price_min"  style="color: black;" class="cs-select cs-select-half cs-skin-border input-half">
                                        <option  value="rent" style="color: black;" >Rent</option>
                                        <option value="sell" style="color: black;">Sell</option> 
                                    </select>
                                </div>
                            </section>
                            </div>
                            <div class="mb-4">

                            </div>
                        
                            <div class="row">
                                <div class="col-6">
                                    <div class="text-start">
                                        <button class="btn btn-outline-danger" type="reset"> reset</button>
                                    </div>
                                </div>
                                <div class="col-6">
                                    <div class="text-end">
                                        <button class="btn btn-outline-primary" type="submit"> submit</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="map col-md-6 " id="mapid">
                                
                        </div>
                    </div>
                </form>
            <!-- </div> -->
        </div>

        <hr class="hr" />
        <%- include('./partials/foot.ejs') %>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script> 
    <script>
         var click_marker ;
         const addRentalForm = document.querySelector('form.add_rental');
         const lat_ = document.querySelector('.lat');
         const lng_ = document.querySelector('.lng');
         var lat = addRentalForm.lat;
         var lng = addRentalForm.lng;

             
        var map = L.map('mapid').setView([11.5846,37.3839], 15);
      L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
    maxZoom: 19,
    attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
         }).addTo(map);

           
            
         //map on click
         map.on('click', function(e){
            if(click_marker){
                map.removeLayer(click_marker);
            }
            click_marker = L.marker([e.latlng.lat, e.latlng.lng]).addTo(map);
            lat.value = e.latlng.lat;
            lng.value = e.latlng.lng;
            
         })
     
         
         
        


    </script>
</body>
</html>